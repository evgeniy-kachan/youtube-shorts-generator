# üá∑üá∫ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –†–æ—Å—Å–∏–∏ (YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)

–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ –†–æ—Å—Å–∏–∏, –≥–¥–µ YouTube –∑–∞–º–µ–¥–ª–µ–Ω/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–° –º–∞—Ä—Ç–∞ 2024 YouTube –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–¥–ª–µ–Ω –≤ –†–æ—Å—Å–∏–∏. –ü—Ä—è–º–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `yt-dlp` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –†–∞–±–æ—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞:
1. **YouTube endpoint** - –¥–ª—è —Å—Ç—Ä–∞–Ω –≥–¥–µ YouTube –¥–æ—Å—Ç—É–ø–µ–Ω
2. **Local files endpoint** - –¥–ª—è –†–æ—Å—Å–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

## üöÄ –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

### 1. –°–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ –Ω–∞ —Å–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (—á–µ—Ä–µ–∑ VPN)

–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å VPN:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π YouTube downloader
- 4K Video Downloader
- –û–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å—ã —á–µ—Ä–µ–∑ VPN
- –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
scp /path/to/video.mp4 root@SERVER_IP:/opt/youtube-shorts-generator/temp/my_video.mp4
```

### 3. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ endpoint: `POST /api/video/analyze-local`

## üì° API –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### Swagger UI

```
http://SERVER_IP:8000/docs
```

–ù–∞–π–¥–∏—Ç–µ: `POST /api/video/analyze-local`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filename`: –∏–º—è —Ñ–∞–π–ª–∞ –≤ –ø–∞–ø–∫–µ temp/ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `my_video.mp4`)

### cURL

```bash
curl -X POST "http://SERVER_IP:8000/api/video/analyze-local?filename=my_video.mp4"
```

### Python

```python
import requests

response = requests.post(
    "http://SERVER_IP:8000/api/video/analyze-local",
    params={"filename": "my_video.mp4"}
)

task_id = response.json()["task_id"]
```

## üîÑ –ü–æ–ª–Ω—ã–π workflow

```bash
# 1. –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ - —Å–∫–∞—á–∞—Ç—å —á–µ—Ä–µ–∑ VPN
# (—á–µ—Ä–µ–∑ –ª—é–±–æ–π downloader)

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp video.mp4 root@SERVER_IP:/opt/youtube-shorts-generator/temp/

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Swagger UI
# http://SERVER_IP:8000/docs
# POST /api/video/analyze-local

# 4. –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å
# GET /api/video/task/{task_id}

# 5. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ã
# POST /api/video/process

# 6. –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∫–ª–∏–ø—ã
# GET /api/video/download/{video_id}/{segment_id}
```

## üåê –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ê—Ä–µ–Ω–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã:

**1. Vast.ai (–°–®–ê)** - –†–µ–∫–æ–º–µ–Ω–¥—É—é!
- Tesla T4: ~$0.15/—á–∞—Å
- –§–∏–ª—å—Ç—Ä Location: USA
- –ü–æ—á–∞—Å–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞
- https://vast.ai

**2. RunPod (–°–®–ê/–ï–≤—Ä–æ–ø–∞)**
- Tesla T4: ~$0.20/—á–∞—Å
- –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- https://runpod.io

**3. Hetzner (–ì–µ—Ä–º–∞–Ω–∏—è)**
- Dedicated servers
- –û—Ç ‚Ç¨150/–º–µ—Å—è—Ü
- –°—Ç–∞–±–∏–ª—å–Ω–æ
- https://hetzner.com

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π:

- ‚úÖ YouTube —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –ø—Ä–æ–∫—Å–∏/VPN
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–µ–µ

### –°—Ç–æ–∏–º–æ—Å—Ç—å:

**Vast.ai –ø–æ—á–∞—Å–æ–≤–æ:**
- –†–∞–±–æ—Ç–∞–µ—Ç–µ 4 —á–∞—Å–∞/–¥–µ–Ω—å = $0.15 √ó 4 = $0.60/–¥–µ–Ω—å
- ~$18/–º–µ—Å—è—Ü (–Ω–∞–º–Ω–æ–≥–æ –¥–µ—à–µ–≤–ª–µ —á–µ–º dedicated)
- –ú–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–∞—Ç—å –∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ

**Hetzner dedicated:**
- ‚Ç¨150/–º–µ—Å—è—Ü —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω
- –õ—É—á—à–µ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## üíª –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

### 1. –ê—Ä–µ–Ω–¥–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä Vast.ai)

–í—ã–±—Ä–∞—Ç—å:
- GPU: Tesla T4 –∏–ª–∏ A4000
- Location: **USA** –∏–ª–∏ **Europe**
- RAM: 32GB+
- Disk: 100GB+

### 2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

```bash
ssh root@NEW_SERVER_IP -p PORT
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

```bash
cd /opt
git clone https://github.com/YOUR_USERNAME/youtube-shorts-generator.git
cd youtube-shorts-generator
./install.sh
./run.sh
```

### 4. –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π YouTube endpoint:
```
POST /api/video/analyze
```

## üîß –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–†–æ—Å—Å–∏—è + –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
project/
‚îú‚îÄ‚îÄ temp/                    # ‚Üê –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –≤–∏–¥–µ–æ —Å—é–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ my_video.mp4        # –í–∞—à–∏ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ interview.mp4
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ output/                  # ‚Üê –ì–æ—Ç–æ–≤—ã–µ –∫–ª–∏–ø—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å
‚îÇ   ‚îú‚îÄ‚îÄ my_video_segment_0.mp4
‚îÇ   ‚îî‚îÄ‚îÄ ...
```

### Endpoints:

- `POST /api/video/analyze` - –¥–ª—è YouTube (–º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –†–æ—Å—Å–∏–∏)
- `POST /api/video/analyze-local` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ‚úÖ
- `GET /api/video/task/{id}` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
- `POST /api/video/process` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- `GET /api/video/download/{id}` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∫–ª–∏–ø–æ–≤

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ù–∞ Tesla T4 (16GB VRAM):

| –î–ª–∏–Ω–∞ –≤–∏–¥–µ–æ | –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
|-------------|-----------------|
| 5 –º–∏–Ω—É—Ç | ~3-5 –º–∏–Ω—É—Ç |
| 10 –º–∏–Ω—É—Ç | ~5-8 –º–∏–Ω—É—Ç |
| 30 –º–∏–Ω—É—Ç | ~15-20 –º–∏–Ω—É—Ç |
| 1 —á–∞—Å | ~30-40 –º–∏–Ω—É—Ç |

## üéì –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –≤–∏–¥–µ–æ

### –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç:
- **–ò–Ω—Ç–µ—Ä–≤—å—é** (Joe Rogan, Lex Fridman style)
- **–ü–æ–¥–∫–∞—Å—Ç—ã** —Å —Ä–∞–∑–≥–æ–≤–æ—Ä–∞–º–∏
- **–õ–µ–∫—Ü–∏–∏** (TED Talks, —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—Å–∫–∏–µ)
- **–û–±–∑–æ—Ä—ã** —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- **–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–Ω—Ç** (—Å–æ–≤–µ—Ç—ã, –∫–µ–π—Å—ã)

### –ü–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—é—Ç:
- –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–ª–∏–ø—ã
- –í–∏–¥–µ–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º (–Ω—É–∂–µ–Ω –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- –í–∏–¥–µ–æ –±–µ–∑ —Ä–µ—á–∏
- –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∑–≤—É–∫–∞

## üí° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –†–æ—Å—Å–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã:

–í `backend/config.py`:

```python
# –î–ª—è Tesla T4 –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –º–∞–∫—Å–∏–º—É–º
WHISPER_MODEL = "large-v3"
WHISPER_COMPUTE_TYPE = "float16"

# –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
WHISPER_MODEL = "medium"  # –í 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ, —á—É—Ç—å —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ
WHISPER_COMPUTE_TYPE = "int8"
```

### LLM –º–æ–¥–µ–ª–∏:

```bash
# Llama 3.1 8B - –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å
ollama pull llama3.1:8b

# –ò–ª–∏ Mistral 7B - –±—ã—Å—Ç—Ä–µ–µ
ollama pull mistral:7b

# –ò–ª–∏ Qwen 2.5 7B - —Ö–æ—Ä–æ—à–∏–π –∞–Ω–∞–ª–∏–∑
ollama pull qwen2.5:7b
```

## üéØ Checklist

- [ ] –°–µ—Ä–≤–µ—Ä –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω (Russia –∏–ª–∏ USA)
- [ ] –î—Ä–∞–π–≤–µ—Ä—ã NVIDIA —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ü—Ä–æ–µ–∫—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`./install.sh`)
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- [ ] –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –≤ `temp/`
- [ ] Swagger UI –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] Endpoint `/analyze-local` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–∞–π–¥–µ–Ω—ã –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã
- [ ] –ö–ª–∏–ø—ã —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ
- [ ] –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f server.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GPU: `nvidia-smi`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã: `ls -lh temp/`
4. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ GitHub

---

**–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã = –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ YouTube!** ‚úÖ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏. üöÄ

