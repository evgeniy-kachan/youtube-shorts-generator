# ðŸ—ï¸ Architecture Overview

## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
project_blog/
â”œâ”€â”€ backend/                    # Backend (FastAPI)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð° FastAPI
â”‚   â”œâ”€â”€ config.py              # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                # Pydantic Ð¼Ð¾Ð´ÐµÐ»Ð¸
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ schemas.py         # API ÑÑ…ÐµÐ¼Ñ‹
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/               # API Ñ€Ð¾ÑƒÑ‚ÐµÑ€Ñ‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ video.py           # Endpoints Ð´Ð»Ñ Ð²Ð¸Ð´ÐµÐ¾
â”‚   â”‚
â”‚   â”œâ”€â”€ services/              # Ð‘Ð¸Ð·Ð½ÐµÑ-Ð»Ð¾Ð³Ð¸ÐºÐ°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ youtube_downloader.py   # Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ñ YouTube
â”‚   â”‚   â”œâ”€â”€ transcription.py        # Whisper Ñ‚Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð¿Ñ†Ð¸Ñ
â”‚   â”‚   â”œâ”€â”€ highlight_analyzer.py   # LLM Ð°Ð½Ð°Ð»Ð¸Ð·
â”‚   â”‚   â”œâ”€â”€ translation.py          # DeepSeek Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´
â”‚   â”‚   â”œâ”€â”€ tts.py                  # Silero Ð¾Ð·Ð²ÑƒÑ‡ÐºÐ°
â”‚   â”‚   â””â”€â”€ video_processor.py      # FFmpeg Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°
â”‚   â”‚
â”‚   â””â”€â”€ utils/                 # Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
â”‚       â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ frontend/                  # Frontend (React)
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ index.html
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.js           # Ð¢Ð¾Ñ‡ÐºÐ° Ð²Ñ…Ð¾Ð´Ð°
â”‚   â”‚   â”œâ”€â”€ index.css          # Ð¡Ñ‚Ð¸Ð»Ð¸ (Tailwind)
â”‚   â”‚   â”œâ”€â”€ App.jsx            # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/        # React ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoInput.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SegmentsList.jsx
â”‚   â”‚   â”‚   â””â”€â”€ DownloadList.jsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ services/          # API ÐºÐ»Ð¸ÐµÐ½Ñ‚
â”‚   â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â””â”€â”€ postcss.config.js
â”‚
â”œâ”€â”€ temp/                      # Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹
â”œâ”€â”€ output/                    # Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ ÐºÐ»Ð¸Ð¿Ñ‹
â”‚
â”œâ”€â”€ requirements.txt           # Python Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
â”œâ”€â”€ .env.example              # ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ README.md                 # ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
â”œâ”€â”€ QUICKSTART.md            # Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚
â”œâ”€â”€ DEPLOYMENT.md            # Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸ÑŽ
â”œâ”€â”€ API_EXAMPLES.md          # ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ API
â”œâ”€â”€ ARCHITECTURE.md          # Ð­Ñ‚Ð¾Ñ‚ Ñ„Ð°Ð¹Ð»
â”‚
â”œâ”€â”€ install.sh               # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸
â”œâ”€â”€ run.sh                   # Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°
â”‚
â”œâ”€â”€ Dockerfile               # Docker Ð¾Ð±Ñ€Ð°Ð·
â”œâ”€â”€ docker-compose.yml       # Docker Compose
â””â”€â”€ docker-entrypoint.sh     # Docker entrypoint
```

## Pipeline Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ð²Ð¸Ð´ÐµÐ¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER INPUT                                â”‚
â”‚                   (YouTube URL)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: DOWNLOAD VIDEO                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  yt-dlp                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¸Ð´ÐµÐ¾ (MP4)                                 â”‚   â”‚
â”‚  â”‚  â€¢ Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ð°ÑƒÐ´Ð¸Ð¾ (M4A)                                 â”‚   â”‚
â”‚  â”‚  â€¢ ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: TRANSCRIPTION                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  faster-whisper (GPU)                                     â”‚   â”‚
â”‚  â”‚  â€¢ ÐœÐ¾Ð´ÐµÐ»ÑŒ: large-v3                                       â”‚   â”‚
â”‚  â”‚  â€¢ Ð’Ñ‹Ñ…Ð¾Ð´: ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ñ‹ Ñ timestamps                          â”‚   â”‚
â”‚  â”‚  â€¢ Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ word-level timestamps                        â”‚   â”‚
â”‚  â”‚  â€¢ VAD Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð²Ñ‹Ñ…Ð¾Ð´Ð°:                                                 â”‚
â”‚  [                                                               â”‚
â”‚    {                                                             â”‚
â”‚      "start": 10.5,                                             â”‚
â”‚      "end": 15.2,                                               â”‚
â”‚      "text": "This is interesting content",                     â”‚
â”‚      "words": [...]                                             â”‚
â”‚    },                                                            â”‚
â”‚    ...                                                           â”‚
â”‚  ]                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: HIGHLIGHT ANALYSIS                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  DeepSeek reasoner (cloud API)                           â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  1. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÐ¾Ð½ (20s - 3min)                 â”‚   â”‚
â”‚  â”‚  2. ÐÐ½Ð°Ð»Ð¸Ð· ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð° Ð¿Ð¾ 12 ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÑÐ¼:                 â”‚   â”‚
â”‚  â”‚     â€¢ Information Density                                 â”‚   â”‚
â”‚  â”‚     â€¢ Emotional Intensity                                 â”‚   â”‚
â”‚  â”‚     â€¢ Topic Transition                                    â”‚   â”‚
â”‚  â”‚     â€¢ Key Value                                           â”‚   â”‚
â”‚  â”‚     â€¢ Hook Potential                                      â”‚   â”‚
â”‚  â”‚     â€¢ Tension                                             â”‚   â”‚
â”‚  â”‚     â€¢ Story Moment                                        â”‚   â”‚
â”‚  â”‚     â€¢ Humor                                               â”‚   â”‚
â”‚  â”‚     â€¢ Cadence Shift                                       â”‚   â”‚
â”‚  â”‚     â€¢ Keyword Density                                     â”‚   â”‚
â”‚  â”‚     â€¢ Multimodal Score                                    â”‚   â”‚
â”‚  â”‚     â€¢ Audience Appeal                                     â”‚   â”‚
â”‚  â”‚  3. Ð Ð°ÑÑ‡ÐµÑ‚ highlight_score Ð¿Ð¾ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ðµ                    â”‚   â”‚
â”‚  â”‚  4. Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ (score > 0.4)                            â”‚   â”‚
â”‚  â”‚  5. Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ score                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð°:                                                        â”‚
â”‚  highlight_score = 0.4 * semantic_value +                       â”‚
â”‚                   0.25 * emotional_intensity +                  â”‚
â”‚                   0.15 * hook_probability +                     â”‚
â”‚                   0.1 * keyword_density +                       â”‚
â”‚                   0.1 * story_probability                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: TRANSLATION                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  DeepSeek translation                                     â”‚   â”‚
â”‚  â”‚  â€¢ ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ EN â†’ RU Ñ Ð»Ñ‘Ð³ÐºÐ¾Ð¹ Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸ÐµÐ¹                    â”‚   â”‚
â”‚  â”‚  â€¢ Batch Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°                                        â”‚   â”‚
â”‚  â”‚  â€¢ JSON Ð²Ñ‹Ð²Ð¾Ð´ Ð´Ð»Ñ subtitle_text                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER SELECTION                                â”‚
â”‚            (Ð’Ñ‹Ð±Ð¾Ñ€ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ñ… ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð²)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 5: VIDEO PROCESSING (Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð°)               â”‚
â”‚                                                                  â”‚
â”‚  5.1 TTS Generation                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Silero TTS                                               â”‚   â”‚
â”‚  â”‚  â€¢ Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ñ€ÑƒÑÑÐºÐ¾Ð¹ Ñ€ÐµÑ‡Ð¸                                â”‚   â”‚
â”‚  â”‚  â€¢ Speaker: xenia / kseniya                              â”‚   â”‚
â”‚  â”‚  â€¢ Sample rate: 48kHz                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                     â”‚
â”‚  5.2 Video Cutting                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FFmpeg                                                   â”‚   â”‚
â”‚  â”‚  â€¢ ÐžÐ±Ñ€ÐµÐ·ÐºÐ° Ð¿Ð¾ timestamps                                 â”‚   â”‚
â”‚  â”‚  â€¢ Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (codec copy)                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                     â”‚
â”‚  5.3 Subtitle Creation                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ASS Subtitles Generator                                  â”‚   â”‚
â”‚  â”‚  â€¢ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .ass Ñ„Ð°Ð¹Ð»Ð°                                    â”‚   â”‚
â”‚  â”‚  â€¢ TikTok/Instagram ÑÑ‚Ð¸Ð»ÑŒ                                â”‚   â”‚
â”‚  â”‚  â€¢ Word-level timing                                      â”‚   â”‚
â”‚  â”‚  â€¢ Ð¡Ñ‚Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (outline, shadow)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                     â”‚
â”‚  5.4 Final Composition                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FFmpeg                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Ð—Ð°Ð¼ÐµÐ½Ð° Ð°ÑƒÐ´Ð¸Ð¾ Ð½Ð° TTS                                    â”‚   â”‚
â”‚  â”‚  â€¢ Burn-in ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²                                      â”‚   â”‚
â”‚  â”‚  â€¢ ÐšÐ¾Ð´Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (H.264 + AAC)                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OUTPUT: READY CLIPS                            â”‚
â”‚               (MP4 Ñ„Ð°Ð¹Ð»Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹ Ðº ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸ÑŽ)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

### 1. YouTube Downloader (`youtube_downloader.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** yt-dlp

**Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸:**
- Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð²Ð¸Ð´ÐµÐ¾ Ñ YouTube
- Ð˜Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ…
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ (Ð¼Ð°ÐºÑ 2 Ñ‡Ð°ÑÐ°)
- ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ðµ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð°ÑƒÐ´Ð¸Ð¾ Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð°

**Ð’Ñ‹Ñ…Ð¾Ð´:**
```python
{
    'video_id': 'VIDEO_ID',
    'title': 'Video Title',
    'duration': 3600.0,
    'video_path': '/path/to/video.mp4',
    'audio_path': '/path/to/audio.m4a'
}
```

### 2. Transcription Service (`transcription.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** faster-whisper (GPU-accelerated)

**ÐœÐ¾Ð´ÐµÐ»Ð¸:**
- `large-v3` (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ, ~10GB VRAM)
- `large-v2` (Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð°)
- `medium` (Ð´Ð»Ñ ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸Ð¸ Ð¿Ð°Ð¼ÑÑ‚Ð¸, ~5GB VRAM)

**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- VAD filtering Ð´Ð»Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ð°ÑƒÐ·
- Word-level timestamps Ð´Ð»Ñ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸
- Beam search Ð´Ð»Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ð¸

**Ð’Ñ‹Ñ…Ð¾Ð´:**
```python
[
    {
        'start': 10.5,
        'end': 15.2,
        'text': 'Transcribed text',
        'words': [
            {'word': 'Transcribed', 'start': 10.5, 'end': 11.0},
            {'word': 'text', 'start': 11.1, 'end': 11.5}
        ]
    }
]
```

### 3. Highlight Analyzer (`highlight_analyzer.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** DeepSeek reasoner (cloud)

**ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ:**
- `deepseek-reasoner` (thinking mode, Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ)

**ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼:**

1. **Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÐ¾Ð½:**
   - ÐžÐºÐ½Ð° Ð¾Ñ‚ 20 ÑÐµÐºÑƒÐ½Ð´ Ð´Ð¾ 3 Ð¼Ð¸Ð½ÑƒÑ‚
   - ÐŸÐµÑ€ÐµÐºÑ€Ñ‹Ñ‚Ð¸Ðµ 50% Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ³Ð¾ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ñ

2. **ÐÐ½Ð°Ð»Ð¸Ð· LLM:**
   - Prompt Ñ 12 ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÑÐ¼Ð¸
   - JSON Ð¾Ñ‚Ð²ÐµÑ‚ ÑÐ¾ scores (0.0-1.0)
   - Temperature 0.3 Ð´Ð»Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸

3. **Ð Ð°ÑÑ‡ÐµÑ‚ highlight_score:**
   ```python
   semantic_value = (info_density + key_value + topic_transition) / 3
   
   score = (
       0.4 * semantic_value +
       0.25 * emotional_intensity +
       0.15 * hook_potential +
       0.1 * keyword_density +
       0.1 * story_probability
   )
   
   # Ð‘Ð¾Ð½ÑƒÑÑ‹
   if audience_appeal > 0.7: score *= 1.1
   if humor > 0.7: score *= 1.05
   if tension > 0.7: score *= 1.05
   ```

4. **Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ:**
   - Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ñ‹ ÑÐ¾ score > 0.4
   - Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ ÑƒÐ±Ñ‹Ð²Ð°Ð½Ð¸ÑŽ score

### 4. Translation Service (`translation.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** DeepSeek API (reasoner)

**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸:**
- Batch Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ (Ð¿Ð¾ 3-5 ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð²)
- JSON-Ð¾Ñ‚Ð²ÐµÑ‚ Ñ `subtitle_text`
- Ð›Ñ‘Ð³ÐºÐ°Ñ Ð°Ð´Ð°Ð¿Ñ‚Ð°Ñ†Ð¸Ñ Ñ„Ñ€Ð°Ð· Ð¸ Ð»Ð¾ÐºÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
- Ð¢ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° 0.1 Ð´Ð»Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸

**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- HTTP client: `httpx`
- Timeout: 60s
- ÐÐ²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ: Bearer `DEEPSEEK_API_KEY`

### 5. TTS Service (`tts.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** Silero TTS

**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- Ð¯Ð·Ñ‹Ðº: Russian
- Speaker: xenia (Ð¶ÐµÐ½ÑÐºÐ¸Ð¹) / eugene (Ð¼ÑƒÐ¶ÑÐºÐ¾Ð¹)
- Sample rate: 48kHz
- ÐšÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾: Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾Ðµ Ð´Ð»Ñ Ñ€ÑƒÑÑÐºÐ¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ°

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**
- Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð¼Ð¾Ð´ÐµÐ»ÑŒ (Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ API)
- Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ (~1 ÑÐµÐºÑƒÐ½Ð´Ð° Ð½Ð° 10 ÑÐ»Ð¾Ð²)
- Ð•ÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ Ð·Ð²ÑƒÑ‡Ð°Ð½Ð¸Ðµ

### 6. Video Processor (`video_processor.py`)

**Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸:** FFmpeg, moviepy

**Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸:**

**6.1 ÐžÐ±Ñ€ÐµÐ·ÐºÐ° Ð²Ð¸Ð´ÐµÐ¾:**
```bash
ffmpeg -ss START -t DURATION -i input.mp4 -codec copy output.mp4
```

**6.2 Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÑƒÐ±Ñ‚Ð¸Ñ‚Ñ€Ð¾Ð²:**
- Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚: ASS (Advanced SubStation Alpha)
- Ð¡Ñ‚Ð¸Ð»ÑŒ: TikTok (Ð±ÐµÐ»Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚, Ñ‡ÐµÑ€Ð½Ñ‹Ð¹ outline)
- Ð Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ: Ð²Ð½Ð¸Ð·Ñƒ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ
- ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ: word-by-word (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

**6.3 ÐšÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ:**
```bash
ffmpeg -i video.mp4 -i audio.wav -vf "ass=subtitles.ass" \
  -c:v libx264 -c:a aac output.mp4
```

## API Architecture

### Endpoints

```
POST   /api/video/analyze          # ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð°Ð½Ð°Ð»Ð¸Ð·
GET    /api/video/task/{id}        # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð·Ð°Ð´Ð°Ñ‡Ð¸
POST   /api/video/process          # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ñ‹
GET    /api/video/download/{id}    # Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ ÐºÐ»Ð¸Ð¿
DELETE /api/video/cleanup/{id}     # Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»Ñ‹
```

### Background Tasks

Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ FastAPI BackgroundTasks Ð´Ð»Ñ:
- Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð²Ð¸Ð´ÐµÐ¾
- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð²
- ÐÐµ Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚ API

### Task Status Tracking

```python
tasks = {
    'task_id': {
        'status': 'processing',  # pending/processing/completed/failed
        'progress': 0.5,          # 0.0-1.0
        'message': 'Analyzing...',
        'result': {...}           # ÐŸÑ€Ð¸ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ð¸
    }
}
```

## Frontend Architecture

### React Component Tree

```
App
â”œâ”€â”€ Header
â”œâ”€â”€ VideoInput (stage: input)
â”œâ”€â”€ ProgressBar (stage: analyzing/processing)
â”œâ”€â”€ SegmentsList (stage: segments)
â””â”€â”€ DownloadList (stage: download)
```

### State Management

```javascript
{
    stage: 'input',           // input/analyzing/segments/processing/download
    analysisTask: 'task_id',
    processingTask: 'task_id',
    videoData: {...},
    segments: [...],
    processedSegments: [...],
    progress: 0.5,
    statusMessage: 'Processing...'
}
```

### Polling

- ÐšÐ°Ð¶Ð´Ñ‹Ðµ 2 ÑÐµÐºÑƒÐ½Ð´Ñ‹ Ð¾Ð¿Ñ€Ð¾Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ° Ð·Ð°Ð´Ð°Ñ‡Ð¸
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð¼ÐµÐ¶Ð´Ñƒ ÑÑ‚Ð°Ð´Ð¸ÑÐ¼Ð¸
- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      POST /analyze      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚          â”‚
â”‚          â”‚      task_id             â”‚          â”‚
â”‚  React   â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  FastAPI â”‚
â”‚  Frontendâ”‚                          â”‚  Backend â”‚
â”‚          â”‚      GET /task/{id}      â”‚          â”‚
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚          â”‚
â”‚          â”‚      status + result     â”‚          â”‚
â”‚          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚          â”‚
â”‚          â”‚                          â”‚          â”‚
â”‚          â”‚   POST /process          â”‚          â”‚
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚          â”‚
â”‚          â”‚      task_id             â”‚          â”‚
â”‚          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚          â”‚
â”‚          â”‚                          â”‚          â”‚
â”‚          â”‚   GET /download/{id}     â”‚          â”‚
â”‚          â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚          â”‚
â”‚          â”‚      MP4 file            â”‚          â”‚
â”‚          â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚ DeepSeek API â”‚
                                      â”‚   (LLM)      â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## GPU Memory Usage

Ð¢Ð¸Ð¿Ð¸Ñ‡Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ VRAM Ð½Ð° A4000 (16GB):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component                  â”‚ VRAM     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Whisper large-v3           â”‚ ~10 GB   â”‚
â”‚ Silero TTS                 â”‚ ~500 MB  â”‚
â”‚ Renderer/FFmpeg            â”‚ ~1 GB    â”‚
â”‚ Overhead                   â”‚ ~1 GB    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ð˜Ð¢ÐžÐ“Ðž                      â”‚ ~18.5 GB â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ DeepSeek Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾ API Ð¸ Ð½Ðµ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ VRAM Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ.
ÐŸÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð°Ð¿Ñ‹:
1. Whisper (Ñ‚Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð¿Ñ†Ð¸Ñ) â†’ Ð²Ñ‹Ð³Ñ€ÑƒÐ·ÐºÐ°
2. DeepSeek (Ð°Ð½Ð°Ð»Ð¸Ð· + Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´) â€” Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ð¹ Ð²Ñ‹Ð·Ð¾Ð²
3. TTS (Ð¾Ð·Ð²ÑƒÑ‡ÐºÐ°)

Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¸Ðº: ~11-12 GB
```

## Performance Optimization

### 1. Lazy Loading Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹
```python
_services = {}  # ÐšÑÑˆ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
def get_service(name):
    if name not in _services:
        _services[name] = create_service(name)
    return _services[name]
```

### 2. Batch Processing
- ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… ÑÐµÐ³Ð¼ÐµÐ½Ñ‚Ð¾Ð² Ð·Ð° Ñ€Ð°Ð·
- ÐŸÐ°Ñ€Ð°Ð»Ð»ÐµÐ»ÑŒÐ½Ð°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð³Ð´Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾

### 3. ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð² Ð¿Ð°Ð¼ÑÑ‚Ð¸
- ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð¿Ñ†Ð¸Ð¸

### 4. Async Operations
- FastAPI async endpoints
- Background tasks Ð´Ð»Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹

## Scaling Considerations

### Ð”Ð»Ñ production:

1. **ÐžÑ‡ÐµÑ€ÐµÐ´ÑŒ Ð·Ð°Ð´Ð°Ñ‡:**
   - Redis + Celery
   - RabbitMQ

2. **Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ:**
   - S3/MinIO Ð´Ð»Ñ Ð²Ð¸Ð´ÐµÐ¾
   - PostgreSQL Ð´Ð»Ñ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ…

3. **ÐšÑÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:**
   - Redis Ð´Ð»Ñ task status
   - Memcached Ð´Ð»Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²

4. **Load Balancing:**
   - Nginx Ð´Ð»Ñ Ð±Ð°Ð»Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²ÐºÐ¸
   - ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ worker Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²

5. **ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³:**
   - Prometheus + Grafana
   - GPU metrics
   - Error tracking (Sentry)

## Security Considerations

Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ - Ð±ÐµÐ· Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (Ð¿Ð¾ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑŽ).

Ð”Ð»Ñ production Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ:
- JWT authentication
- Rate limiting
- Input validation
- CORS Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°
- HTTPS
- File upload limits

---

Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð° Ð´Ð»Ñ Ð²ÐµÑ€ÑÐ¸Ð¸ 1.0.0

